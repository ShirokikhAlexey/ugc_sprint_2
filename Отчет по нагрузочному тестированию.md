# Отчет по нагрузочному тестированию Clickhouse

В ходе данного тестирования была проверена средняя скорость записи данных в дистрибутивную реплицированную 
базу данных clickhouse. Таблица состоит из 3 шардов по 3 реплики. Скорость измерялась на записи 10000000 записей 
при различном числе строк в insert запросе. Генерация данных проводилась с помощью скрипта clickhouse/test_data.py  


| Число строк в insert запросе | Общее время загрузки (c) | Среднее время загрузки 1 batch (c) | shard1 | shard2 | shard3 |
| ------------- | ------------- | ----- | ----- | ----- | ----- |
| 1000      | 899.57 | 0.074 | 3333038 | 3332738 | 3334224 |
| 10000     | 265.57 | 0.12 | 3335075 | 3331717 | 3333208  |
| 100000    | 151.24 | 0.54 | 3330403 | 3335215 | 3334382  |
| 1000000   | 137.32 | 5.14 | 3333387 | 3334297 | 3332316  |


Выводы: в ходе тестирования была получена зависимость скорости записи данных в дистрибутивную реплицированную таблицу 
clickhouse от числа записываемых строк в запросе. В результате тестирования было получено, что использовать пакеты из
1000 строк является целесообразным только при небольшом количестве запросов ввиду низкой скорости записи.  